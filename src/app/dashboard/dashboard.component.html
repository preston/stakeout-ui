<div class="container-fluid" *ngIf="dashboard">

    <div class="float-end m-2">
        <!-- <label for="refresh">Auto-Refresh</label> -->
        <select class="form-control form-control-sm" [(ngModel)]="refresh" name="refresh" [disabled]="editable()">
            <option *ngFor="let r of refresh_options" [value]="r.value" [selected]="r.value ==  refresh">
                {{r.name}}</option>
        </select>
    </div>


    <div class="btn-group float-end m-2">
        <div class="form-check form-switch">
            <input class="form-check-input" type="checkbox" role="button" name="dashboard_screenshots"
                id="dashboard_screenshots" [(ngModel)]="settingsService.screenshots">
            <label class="form-check-label" for="dashboard_screenshots">
                Show Screenshots
            </label>
        </div>
    </div>

    <span class="btn-group float-end m-2">
        <button class='btn btn-sm btn-primary' [class.active]="settingsService.displayMode == 'overlay'" role="button"
            (click)="setDisplayMode('overlay')"><span class="bi bi-grid"></span> Overlay
        </button>
        <button class='btn btn-sm btn-primary' [class.active]="settingsService.displayMode == 'wide'" role="button"
            (click)="setDisplayMode('wide')"><span class="bi bi-list"></span> Wide
        </button>
    </span>

    <div class="btn-group float-end m-2">
        <button class="btn btn-sm btn-primary" role="button" (click)="reload()">
            <span class="bi-arrow-clockwise"></span> Request Refresh</button>
    </div>

    <div class="btn-group float-end m-2">
        <button class="btn btn-sm btn-primary" role="button" (click)="sortBy('name')">
            <span class="bi bi-tag"></span>
            Name
            <span class="bi bi-arrow-down" *ngIf="sort == 'name' && order == 'asc'"></span>
            <span class="bi bi-arrow-up" *ngIf="sort == 'name' && order == 'desc'"></span>
        </button>

        <button class="btn btn-sm btn-primary" role="button" (click)="sortBy('ping')">
            <span class="bi bi-hdd"></span>
            Ping
            <span class="bi bi-arrow-down" *ngIf="sort == 'ping' && order == 'asc'"></span>
            <span class="bi bi-arrow-up" *ngIf="sort == 'ping' && order == 'desc'"></span>
        </button>

        <button class="btn btn-sm btn-primary" role="button" (click)="sortBy('updated_at')">
            <span class="bi bi-calendar"></span>
            Last Updated
            <span class="bi bi-arrow-down" *ngIf="sort == 'updated_at' && order == 'asc'"></span>
            <span class="bi bi-arrow-up" *ngIf="sort == 'updated_at' && order == 'desc'"></span>
        </button>

    </div>

    <h1 class="text-default">{{dashboard.name}}
        @if(editable()){
        <button class="btn btn-sm btn-primary" (click)="create()"><span class="bi-plus-circle"></span> Add
            Service</button>
        }



    </h1>
    <span *ngIf="last_reload"> updated {{last_reload | amTimeAgo}}
    </span>
    <div class="clearfix"></div>

    <!-- <span *ngIf="loading" id="loading" class="bi bi-alarm"></span> -->

    <div class="m-2 service-card align-top" *ngFor="let s of services">

        <button *ngIf="editable()" role="button" class="btn btn-sm btn-danger delete-button" (click)="delete(s)"><span
            class="bi-trash"></span></button>
        <service [dashboard]="dashboard" [service]="s"></service>
    </div>

</div>